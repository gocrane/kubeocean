apiVersion: cloud.tencent.com/v1beta1
kind: ResourceLeasingPolicy
metadata:
  name: example-policy
  namespace: tapestry-system
spec:
  cluster: example-cluster
  nodeSelector:
    nodeSelectorTerms:
    - matchExpressions:
      - key: node-type
        operator: In
        values: ["worker"]
  timeWindows:
    - start: "18:00"
      end: "08:00"
      days: ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"]
    - start: "00:00"
      end: "23:59"
      days: ["Saturday", "Sunday"]
  resourceLimits:
    - resource: cpu
      quantity: "4"
      percent: 80  # Take the smaller of 4 CPUs or 80% of available CPUs
    - resource: memory
      percent: 50  # Take 50% of available memory
    - resource: storage
      quantity: "100Gi"